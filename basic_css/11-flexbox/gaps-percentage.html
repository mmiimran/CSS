<!doctype html>
<html class="code">
<head style="display: block;">
  <meta charset="utf-8"/>
  <title>Percentage-based row gaps with and without explicit container heights</title> 
  <link rel="stylesheet" href="estelle/examples.css"/>
<style>
body {
  max-width: 1280px;
  font-size: 25px;
  text-align: center;
  padding: 0.5em 2.5em;
}
div {
  background-color: rgba(0,0,0,0.1);
  font-family: Consolas, monospace;
}
p {
	position: absolute;
	bottom: -0.5em;
	right: -2em;
	margin-block: 0;
	padding: 0.25em 0.5em;
	background: #FED;
	border: 1px solid rgba(0,0,0,0.1);
	font-style: italic;
}
.gallery {
  position: relative;
  display: flex;
  flex-wrap: wrap;
  margin-block: 0 1.5em;
  align-items: stretch;
}
.gallery:nth-of-type(1) {row-gap: 30%; height: 10em;}
.gallery:nth-of-type(2) {row-gap: 30%; height: auto;}
.gallery div {
  border: 1px solid;
  padding: 5px;
  min-height: 3em;
  line-height: 3em;
}
</style>
</head>
<body>

<div class="gallery">
  <div>A</div>
  <div>BB</div>
  <div>CCC</div>
  <div>DDDD</div>
  <div>EEEEE</div>
  <div>FFFFFF</div>
  <div>GGGGGGG</div>
  <div>HHHHHHHH</div>
  <div>IIIIIIIII</div>
  <div>HHHHHHHH</div>
  <div>GGGGGGG</div>
  <div>FFFFFF</div>
  <div>EEEEE</div>
  <div>DDDD</div>
  <div>CCC</div>
  <div>BB</div>
  <div>A</div>
  <div>BB</div>
  <div>CCC</div>
  <div>DDDD</div>
  <div>EEEEE</div>
  <div>FFFFFF</div>
  <div>GGGGGGG</div>
  <div>HHHHHHHH</div>
  <div>IIIIIIIII</div>
<p><code>row-gap: 30%; height: 10em;</code></p>
</div>

<div class="gallery">
  <div>A</div>
  <div>BB</div>
  <div>CCC</div>
  <div>DDDD</div>
  <div>EEEEE</div>
  <div>FFFFFF</div>
  <div>GGGGGGG</div>
  <div>HHHHHHHH</div>
  <div>IIIIIIIII</div>
  <div>HHHHHHHH</div>
  <div>GGGGGGG</div>
  <div>FFFFFF</div>
  <div>EEEEE</div>
  <div>DDDD</div>
  <div>CCC</div>
  <div>BB</div>
  <div>A</div>
  <div>BB</div>
  <div>CCC</div>
  <div>DDDD</div>
  <div>EEEEE</div>
  <div>FFFFFF</div>
  <div>GGGGGGG</div>
  <div>HHHHHHHH</div>
  <div>IIIIIIIII</div>
<p><code>row-gap: 30%; height: auto;</code></p>
</div>

</body>
</html>